/*! jsviews.js v1.0.0-alpha single-file version:
 includes JsRender, JsObservable and JsViews  http://github.com/BorisMoore/jsrender and http://jsviews.com/jsviews
 informal pre V1.0 commit counter: 53 (Beta Candidate) */
(function(aq,ah,aw){function ar(a){return a}function aM(a){return a}function x(a){aD._dbgMode=a;G=a?"Unavailable (nested view): use #getIndex()":"";aF("dbg",aa.dbg=P.dbg=a?aM:ar)}function z(a){return{getTgt:a,map:function(c){var b=this,d;b.src!==c&&(b.src&&b.unmap(),typeof c=="object"&&(d=a.apply(b,arguments),b.src=c,b.tgt=d))}}}function M(b,a){a&&a.onError&&a.onError(b)===!1||(this.name=(ag.link?"JsViews":"JsRender")+" Error",this.message=b||this.name)}function aB(c,b){var a;c=c||{};for(a in b){c[a]=b[a]}return c}function aN(c,b,a){return(!ax.rTag||c)&&(al=c?c.charAt(0):al,ae=c?c.charAt(1):ae,an=b?b.charAt(0):an,aL=b?b.charAt(1):aL,aA=a||aA,c="\\"+al+"(\\"+aA+")?\\"+ae,b="\\"+an+"\\"+aL,ad="(?:(?:(\\w+(?=[\\/\\s\\"+an+"]))|(?:(\\w+)?(:)|(>)|!--((?:[^-]|-(?!-))*)--|(\\*)))\\s*((?:[^\\"+an+"]|\\"+an+"(?!\\"+aL+"))*?)",ax.rTag=ad+")",ad=new RegExp(c+ad+"(\\/)?|(?:\\/(\\w+)))"+b,"g"),E=new RegExp("<.*>|([^\\\\]|^)[{}]|"+c+".*"+b)),[al,ae,an,aL,aA]}function D(k,b){b||(b=k,k=aw);var h,g,i,a,d=this,c=!b||b==="root";if(k){if(a=d.type===b?d:aw,!a){if(h=d.views,d._.useKey){for(g in h){if(a=h[g].get(k,b)){break}}}else{for(g=0,i=h.length;!a&&g<i;g++){a=h[g].get(k,b)}}}}else{if(c){while(d.parent.parent){a=d=d.parent}}else{while(d&&!a){a=d.type===b?d:aw,d=d.parent}}}return a}function j(){var a=this.get("item");return a?a.index:aw}function Y(){return this.index}function F(b){var a,d=this,f=d.linkCtx,c=(d.ctx||{})[b];return c===aw&&f&&f.ctx&&(c=f.ctx[b]),c===aw&&(c=aa[b]),c&&q(c)&&!c._wrp&&(a=function(){return c.apply(!this||this===aq?d:this,arguments)},a._wrp=1,aB(a,c)),a||c}function ay(l,b,a){var g,i,d,k=+a===a&&a,c=b.linkCtx;if(k&&(a=(k=b.tmpl.bnds[k-1])(b.data,b,aj)),i=a.args[0],l||k){g=c&&c.tag||{_:{inline:!c,bnd:k},tagName:l+":",flow:!0,_is:"tag"};for(d in a.props){S.test(d)&&(g[d]=a.props[d])}c&&(c.tag=g,g.linkCtx=g.linkCtx||c,a.ctx=at(a.ctx,c.view.ctx));g.tagCtx=a;a.view=b;g.ctx=a.ctx||{};delete a.ctx;b._.tag=g;i=am(g,g.convert||l!=="true"&&l)[0];i=i!=aw?i:"";i=k&&b._.onRender?b._.onRender(i,b,k):i;b._.tag=aw}return i}function am(e,c){var d=e.tagCtx,a=d.view,b=d.args;return c=c&&(""+c===c?a.getRsc("converters",c)||af("Unknown converter: '"+c+"'"):c),b=!b.length&&!d.index&&e.autoBind?[a.data]:c?b.slice():b,c&&(c.depends&&(e.depends=ax.getDeps(e.depends,e,c.depends,c)),b[0]=c.apply(e,b)),b}function aH(g,b){for(var c,d,a=this;c===aw&&a;){d=a.tmpl[g],c=d&&d[b],a=a.parent}return c||aj[g][b]}function Q(aW,aQ,aP,a3,aU){var i,a1,f,aR,s,a8,aY,aO,a6,l,b,a5,a0,aZ,aV,ba,v,aX,a4,a9,a2="",a7=+a3===a3&&a3,aT=aQ.linkCtx||0,r=aQ.ctx,aS=aP||aQ.tmpl;for(aW._is==="tag"&&(a1=aW,aW=a1.tagName),a1=a1||aT.tag,a7&&(a3=(a5=aS.bnds[a7-1])(aQ.data,aQ,aj)),aY=a3.length,a8=0;a8<aY;a8++){if(a6=a3[a8],a4=a6.props,b=a6.tmpl,b=a6.content=b&&aS.tmpls[b-1],aP=a6.props.tmpl,a8||aP&&a1||(a0=aQ.getRsc("tags",aW)||af("Unknown tag: {{"+aW+"}}")),aP=aP||(a1?a1:a0).template||b,aP=""+aP===aP?aQ.getRsc("templates",aP)||ai(aP):aP,aB(a6,{tmpl:aP,render:R,index:a8,view:aQ,ctx:at(a6.ctx,r)}),!a1){a0._ctr?(a1=new a0._ctr,aZ=!!a1.init,a1.attr=a1.attr||a0.attr||aw):a1={render:a0.render};a1._={inline:!aT};aT&&(aT.attr=a1.attr=aT.attr||a1.attr,aT.tag=a1,a1.linkCtx=aT);(a1._.bnd=a5||aT.fn)?a1._.arrVws={}:a1.dataBoundOnly&&af("{^{"+aW+"}} tag must be data-bound");a1.tagName=aW;a1.parent=s=r&&r.tag;a1._is="tag";a1._def=a0;for(aX in a4=a6.props){S.test(aX)&&(a1[aX]=a4[aX])}}a6.tag=a1;a1.map&&a1.tagCtxs&&(a6.map=a1.tagCtxs[a8].map);a1.flow||(l=a6.ctx=a6.ctx||{},f=a1.parents=l.parentTags=r&&at(l.parentTags,r.parentTags)||{},s&&(f[s.tagName]=s),l.tag=a1)}for(a1.tagCtxs=a3,aQ._.tag=a1,a1.rendering={},a8=0;a8<aY;a8++){a6=a1.tagCtx=a3[a8],a4=a6.props,v=am(a1,a1.convert),(aV=a4.map||a1).map&&(v.length||a4.map)&&(ba=a6.map=aB(a6.map||{unmap:aV.unmap},a4),ba.src!==v[0]&&(ba.src&&ba.unmap(),aV.map.apply(ba,v)),v=[ba.tgt]),a1.ctx=a6.ctx,!a8&&aZ&&(a9=a1.template,a1.init(a6,aT,a1.ctx),aZ=aw,a1.template!==a9&&(a1._.tmpl=a1.template)),aO=aw,i=a1.render,(i=a1.render)&&(aO=i.apply(a1,v)),v=v.length?v:[aQ],aO=aO!==aw?aO:a6.render(v[0],!0)||(aU?aw:""),a2=a2?a2+(aO||""):aO}return delete a1.rendering,a1.tagCtx=a1.tagCtxs[0],a1.ctx=a1.tagCtx.ctx,a1._.inline&&(aR=a1.attr)&&aR!==aK&&(a2=aR==="text"?P.html(a2):""),a7&&aQ._.onRender?aQ._.onRender(a2,aQ,a7):a2}function av(g,aT,p,b,aS,y,aO,d){var aQ,w,aP,aR=aT==="array",k={key:0,useKey:aR?0:1,id:""+az++,onRender:d,bnds:{}},aU={data:b,tmpl:aS,content:aO,views:aR?[]:{},parent:p,type:aT,get:D,getIndex:Y,getRsc:aH,hlp:F,_:k,_is:"view"};return p?(aQ=p.views,w=p._,w.useKey?(aQ[k.key="_"+w.useKey++]=aU,aU.index=G,aU.getIndex=j,aP=w.tag,k.bnd=aR&&(!aP||!!aP._.bnd&&aP)):aQ.splice(k.key=aU.index=y,0,aU),aU.ctx=g||p.ctx):aU.ctx=g,aU}function V(g){var c,b,d,a,e;for(c in au){if(a=au[c],(e=a.compile)&&(b=g[c+"s"])){for(d in b){b[d]=e(d,b[d],g,c,a)}}}}function X(e,c,b){var a,d;return q(c)?c={depends:c.depends,render:c}:((d=c.template)&&(c.template=""+d===d?ai[d]||ai(d):d),c.init!==!1&&(a=c._ctr=function(){},(a.prototype=c).constructor=a)),b&&(c._parentTmpl=b),c}function ab(b,s,i,k,d,g){function p(c){if(""+c===c||c.nodeType>0){try{n=c.nodeType>0?c:!E.test(c)&&ah&&ah(aq.document).find(c)[0]}catch(a){}return n&&(c=n.getAttribute(ak),b=b||c,c=ai[c],c||(b=b||"_"+m++,n.setAttribute(ak,b),c=ai[b]=ab(b,n.innerHTML,i,k,d,g)),n=null),c}}var l,n;return s=s||"",l=p(s),g=g||(s.markup?s:{}),g.tmplName=b,i&&(g._parentTmpl=i),!l&&s.markup&&(l=p(s.markup))&&l.fn&&(l.debug!==s.debug||l.allowCode!==s.allowCode)&&(l=l.markup),l!==aw?(b&&!i&&(U[b]=function(){return s.render.apply(s,arguments)}),l.fn||s.fn?l.fn&&(s=b&&b!==l.tmplName?at(g,l):l):(s=ac(l,g),C(l.replace(Z,"\\$&"),s)),V(g),s):void 0}function ac(e,b){var a,d=aD.wrapMap||{},c=aB({markup:e,tmpls:[],links:{},tags:{},bnds:[],_is:"template",render:R},b);return b.htmlTag||(a=K.exec(e),c.htmlTag=a?a[1].toLowerCase():""),a=d[c.htmlTag],a&&a!==d.div&&(c.markup=ag.trim(c.markup)),c}function O(d,b){function a(k,n,i){var g,p,h,f;if(k&&""+k!==k&&!k.nodeType&&!k.markup){for(h in k){a(h,k[h],n)}return aj}return n===aw&&(n=k,k=aw),k&&""+k!==k&&(i=n,n=k,k=aw),f=i?i[c]=i[c]||{}:a,p=b.compile,(g=ax.onBeforeStoreItem)&&(p=g(f,k,n,p)||p),k?n===null?delete f[k]:f[k]=p?n=p(k,n,i,d,b):n:n=p(aw,n),p&&n&&(n._is=d),(g=ax.onStoreItem)&&g(f,k,n,p),n}var c=d+"s";aj[c]=a;au[d]=b}function R(aS,aP,aX,aY,aR,aV){var aO,a1,b,v,l,s,u,aU,aQ,i,aZ,r,a0,a2=this,aT=!a2.attr||a2.attr===aK,aW="";if(!!aP===aP&&(aX=aP,aP=aw),aR===!0&&(u=!0,aR=0),a2.tag?(aU=a2,a2=a2.tag,i=a2._,r=a2.tagName,a0=i.tmpl||aU.tmpl,aP=at(aP,a2.ctx),aQ=aU.content,aU.props.link===!1&&(aP=aP||{},aP.link=!1),aY=aY||aU.view,aS=arguments.length?aS:aY):a0=a2.jquery&&(a2[0]||af('Unknown template: "'+a2.selector+'"'))||a2,a0&&(!aY&&aS&&aS._is==="view"&&(aY=aS),aY&&(aQ=aQ||aY.content,aV=aV||aY._.onRender,aS===aY&&(aS=aY.data),aP=at(aP,aY.ctx)),aY&&aY.data!==aw||((aP=aP||{}).root=aS),a0.fn||(a0=ai[a0]||ai(a0)),a0)){if(aV=(aP&&aP.link)!==!1&&aT&&aV,aZ=aV,aV===!0&&(aZ=aw,aV=aY._.onRender),aP=a0.helpers?at(a0.helpers,aP):aP,ag.isArray(aS)&&!aX){for(v=u?aY:aR!==aw&&aY||av(aP,"array",aY,aS,a0,aR,aQ,aV),aO=0,a1=aS.length;aO<a1;aO++){b=aS[aO],l=av(aP,"item",v,b,a0,(aR||0)+aO,aQ,aV),s=a0.fn(b,l,aj),aW+=v._.onRender?v._.onRender(s,l):s}}else{v=u?aY:av(aP,r||"data",aY,aS,a0,aR,aQ,aV),i&&!a2.flow&&(v.tag=a2),aW+=a0.fn(aS,v,aj)}return aZ?aZ(aW,v):aW}return""}function af(a){throw new ax.Err(a)}function aJ(a){af("Syntax error\n"+a)}function C(g,aV,y,b){function aT(a){a-=aP;a&&aW.push(g.substr(aP,a).replace(N,"\\n"))}function aO(a){a&&aJ('Unmatched or missing tag: "{{/'+a+'}}" in template:\n'+g)}function c(aZ,o,s,aX,a0,aY,a2,a,n,h,a1,l){aY&&(a0=":",aX=aK);h=h||y;var t,i,r=o&&[],f="",u="",v="",w=!h&&!a0&&!a2;s=s||(n=n||"#data",a0);aT(l);aP=l+aZ.length;a?aS&&aW.push(["*","\n"+n.replace(T,"$1")+"\n"]):s?(s==="else"&&(J.test(n)&&aJ('for "{{else if expr}}" use "{{else expr}}"'),r=aU[6],aU[7]=g.substring(aU[7],l),aU=d.pop(),aW=aU[3],w=!0),n&&(n=n.replace(N," "),f=ap(n,r,aV).replace(B,function(a3,p,e){return p?v+=e+",":u+=e+",",aR=aR||S.test(e.split(":")[0]),""})),u=u.slice(0,-1),f=f.slice(0,-1),t=u&&u.indexOf("noerror:true")+1&&u||"",k=[s,aX||!!b||aR||"",f,w&&[],'\n\tparams:"'+n+'",\n\tprops:{'+u+"}"+(v?",ctx:{"+v.slice(0,-1)+"}":""),t,r||0],aW.push(k),w&&(d.push(aU),aU=k,aU[7]=aP)):a1&&(i=aU[0],aO(a1!==i&&i!=="else"&&a1),aU[7]=g.substring(aU[7],l),aU=d.pop());aO(!aU&&a1);aW=aU[3]}var k,aR,aS=aV&&aV.allowCode,aQ=[],aP=0,d=[],aW=aQ,aU=[,,,aQ];return aO(d[0]&&d[0][3].pop()[0]),g.replace(ad,c),aT(g.length),(aP=aQ[aQ.length-1])&&aO(""+aP!==aP&&+aP[7]===aP[7]&&aP[0]),W(aQ,y?g:aV,y)}function W(a2,a8,aY){var bf,bb,a0,a5,aU,aZ,bg,e,aO,aX,be,aT,aW,aP,aS,b,a7,aQ,a4,bc,a6,a1,a3,aR,ba,a9=0,aV="",bh="",t={},c=a2.length;for(""+a8===a8?(aS=aY?'data-link="'+a8.replace(N," ").slice(1,-1)+'"':a8,a8=0):(aS=a8.tmplName||"unnamed",a8.allowCode&&(t.allowCode=!0),a8.debug&&(t.debug=!0),aT=a8.bnds,aP=a8.tmpls),bf=0;bf<c;bf++){if(bb=a2[bf],""+bb===bb){aV+='\nret+="'+bb+'";'}else{if(a0=bb[0],a0==="*"){aV+=""+bb[1]}else{if(a5=bb[1],aU=bb[2],aQ=bb[3],aZ=bb[4],bh=bb[5],a4=bb[7],(a1=a0==="else")||(a9=0,aT&&(aW=bb[6])&&(a9=aT.push(aW))),(a3=a0===":")?(a5&&(a0=a5===aK?">":a5+a0),bh&&(aR="prm"+bf,bh="try{var "+aR+"=["+aU+"][0];}catch(e){"+aR+'="";}\n',aU=aR)):(aQ&&(b=ac(a4,t),b.tmplName=aS+"/"+a0,W(aQ,b),aP.push(b)),a1||(a7=a0,a6=aV,aV=""),bc=a2[bf+1],bc=bc&&bc[0]==="else"),aZ+=",\n\targs:["+aU+"]}",a3&&(aW||a5&&a5!==aK)){if(ba=new Function("data,view,j,u"," // "+aS+" "+a9+" "+a0+"\n"+bh+"return {"+aZ+";"),ba.paths=aW,ba._ctxs=a0,aY){return ba}be=1}if(aV+=a3?"\n"+(aW?"":bh)+(aY?"return ":"ret+=")+(be?(be=0,aX=!0,'c("'+a5+'",view,'+(aW?(aT[a9-1]=ba,a9):"{"+aZ)+");"):a0===">"?(e=!0,"h("+aU+");"):(aO=!0,"(v="+aU+")!="+(aY?"=":"")+'u?v:"";')):(bg=!0,"{view:view,tmpl:"+(aQ?aP.length:"0")+","+aZ+","),a7&&!bc){if(aV="["+aV.slice(0,-1)+"]",(aY||aW)&&(aV=new Function("data,view,j,u"," // "+aS+" "+a9+" "+a7+"\nreturn "+aV+";"),aW&&((aT[a9-1]=aV).paths=aW),aV._ctxs=a0,aY)){return aV}aV=a6+'\nret+=t("'+a7+'",view,this,'+(a9||aV)+");";aW=0;a7=0}}}}aV="// "+aS+"\nvar j=j||"+(ah?"jQuery.":"js")+"views"+(aO?",v":"")+(bg?",t=j._tag":"")+(aX?",c=j._cnvt":"")+(e?",h=j.converters.html":"")+(aY?";\n":',ret="";\n')+(aD.tryCatch?"try{\n":"")+(t.debug?"debugger;":"")+aV+(aY?"\n":"\nreturn ret;\n")+(aD.tryCatch?"\n}catch(e){return j._err(e);}":"");try{aV=new Function("data,view,j,u",aV)}catch(bd){aJ("Compiled template code:\n\n"+aV,bd)}return a8&&(a8.fn=aV),aV}function ap(c,aR,g){function aO(a0,aV,aX,aW,a2,e,l,s,t,i,aZ,r,h,n,u,aT,aU,y,f,aY){function v(a4,a6,b,a7,a8,a3,a9,a5){if(b&&(aR&&(aQ==="linkTo"&&(aS=aR._jsvto=aR._jsvto||[],aS.push(a2)),(!aQ||k)&&aR.push(a2.slice(a6.length))),b!==".")){var ba=(a7?'view.hlp("'+a7+'")':a8?"view":"data")+(a5?(a3?"."+a3:a7?"":a8?"":"."+b)+(a9||""):(a5=a7?"":a8?a3||"":b,""));return ba=ba+(a5?"."+a5:""),a6+(ba.slice(0,9)==="view.data"?ba.slice(5):ba)}return a4}var a1;if(e=e||"",aX=aX||aV||r,a2=a2||t,i=i||aU||"",!l||p||o){return aR&&aT&&!p&&!o&&(!aQ||k||aS)&&(a1=aP[a],aY.length-1>f-a1&&(a1=aY.slice(a1,f+1),aT=ae+":"+a1+an,aT=w[aT]=w[aT]||C(al+aT+aL,g,!0),aT.paths||ap(a1,aT.paths=[],g),(aS||aR).push({_jsvOb:aT}))),p?(p=!h,p?a0:'"'):o?(o=!n,o?a0:'"'):(aX?(a++,aP[a]=f++,aX):"")+(y?a?"":aQ?(aQ=k=aS=!1,"\b"):",":s?(a&&aJ(c),aQ=a2,k=aW,"\b"+a2+":"):a2?a2.split("^").join(".").replace(I,v)+(i?(d[++a]=!0,a2.charAt(0)!=="."&&(aP[a]=f),i):e):e?e:u?(d[a--]=!1,u)+(i?(d[++a]=!0,i):""):aZ?(d[a]||aJ(c),","):aV?"":(p=h,o=n,'"'))}aJ(c)}var aQ,aS,k,w=g.links,d={},aP={0:-1},a=0,o=!1,p=!1;return(c+" ").replace(/\)\^/g,").").replace(aI,aO)}function at(b,a){return b&&b!==a?a?aB(aB({},a),b):b:a&&aB({},a)}function aE(a){return aG[a]||(aG[a]="&#"+a.charCodeAt(0)+";")}function ao(d){var b,a,c=[];if(typeof d=="object"){for(b in d){a=d[b],a&&a.toJSON&&!a.toJSON()||q(a)||c.push({key:b,prop:d[b]})}}return c}if((!ah||!ah.views)&&!aq.jsviews){var ag,aC,ad,E,G,al="{",ae="{",an="}",aL="}",aA="^",I=/^(!*?)(?:null|true|false|\d[\d.]*|([\w$]+|\.|~([\w$]+)|#(view|([\w$]+))?)([\w$.^]*?)(?:[.[^]([\w$]+)\]?)?)$/g,aI=/(\()(?=\s*\()|(?:([([])\s*)?(?:(\^?)(!*?[#~]?[\w$.^]+)?\s*((\+\+|--)|\+|-|&&|\|\||===|!==|==|!=|<=|>=|[<>%*:?\/]|(=))\s*|(!*?[#~]?[\w$.^]+)([([])?)|(,\s*)|(\(?)\\?(?:(')|("))|(?:\s*(([)\]])(?=\s*\.|\s*\^|\s*$)|[)\]])([([]?))|(\s+)/g,N=/[ \t]*(\r\n|\n|\r)/g,T=/\\(['"])/g,Z=/['"\\]/g,B=/\x08(~)?([^\x08]+)\x08/g,J=/^if\s/,K=/<(\w+)[>\s]/,A=/[\x00`><"'&]/g,S=/^on[A-Z]|^convert(Back)?$/,H=A,m=0,az=0,aG={"&":"&amp;","<":"&lt;",">":"&gt;","\x00":"&#0;","'":"&#39;",'"':"&#34;","`":"&#96;"},aK="html",ak="data-jsv-tmpl",U={},au={template:{compile:ab},tag:{compile:X},helper:{},converter:{}},aj={jsviews:"v1.0.0-beta",render:U,settings:function(a){aB(aD,a);x(aD._dbgMode);aD.jsv&&aD.jsv()},sub:{View:av,Err:M,tmplFn:C,cvt:am,parse:ap,extend:aB,err:af,syntaxErr:aJ,isFn:function(a){return typeof a=="function"},DataMap:z},_cnvt:ay,_tag:Q,_err:function(a){return aD._dbgMode?"Error: "+(a.message||a)+". ":""}};(M.prototype=new Error).constructor=M;j.depends=function(){return[this.get("item"),"index"]};Y.depends=function(){return["index"]};for(aC in au){O(aC,au[aC])}var L,ai=aj.templates,P=aj.converters,aa=aj.helpers,aF=aj.tags,ax=aj.sub,q=ax.isFn,aD=aj.settings;ah?(ag=ah,ag.fn.render=R,(L=ag.observable)&&(aB(ax,L.sub),delete L.sub)):(ag=aq.jsviews={},ag.isArray=Array&&Array.isArray||function(a){return Object.prototype.toString.call(a)==="[object Array]"});ag.render=U;ag.views=aj;ag.templates=ai=aj.templates;aD({debugMode:x,delimiters:aN,_dbgMode:!0,tryCatch:!0});aF({"else":function(){},"if":{render:function(b){var a=this;return a.rendering.done||!b&&(arguments.length||!a.tagCtx.index)?"":(a.rendering.done=!0,a.selected=a.tagCtx.index,a.tagCtx.render(a.tagCtx.view,!0))},onUpdate:function(g,c,b){for(var d,e,a=0;(d=this.tagCtxs[a])&&d.args.length;a++){if(d=d.args[0],e=!d!=!b[a].args[0],!this.convert&&!!d||e){return e}}return !1},flow:!0},"for":{render:function(h){var c,a=this,b=a.tagCtx,d="",g=0;return a.rendering.done||((c=!arguments.length)&&(h=b.view.data),h!==aw&&(d+=b.render(h,c),g+=ag.isArray(h)?h.length:1),(a.rendering.done=g)&&(a.selected=b.index)),d},flow:!0,autoBind:!0},include:{flow:!0,autoBind:!0},"*":{render:ar,flow:!0}});aF({props:aB(aB({},aF["for"]),z(ao))});aF.props.autoBind=!0;P({html:function(a){return a!=aw?String(a).replace(H,aE):""},attr:function(a){return a!=aw?String(a).replace(A,aE):a===null?a:""},url:function(a){return a!=aw?encodeURI(String(a)):a===null?a:""}});aN()}})(this,this.jQuery),function(N,H,R){function U(a){return K(a)?new Q(a):new Z(a)}function Z(a){return this._data=a,this}function Q(a){return this._data=a,this}function m(a){return K(a)?[a]:a}function B(p,b){p=K(p)?p:[p];for(var a,k=b,l=k,d=p.length,g=[],c=0;c<d;c++){if(a=p[c],G(a)){g=g.concat(B(a.call(b,b),b));continue}else{if(""+a!==a){b=l=a;l!==k&&g.push(k=l);continue}}l!==k&&g.push(k=l);g.push(a)}return g}function C(d,b){var c,a;for(c in d){a=!0;break}a||delete D[b]}function W(e,ad){if(!(e.data&&e.data.off)){var s,l,b,i=ad.oldValue,d=ad.value,w=e.data,g=w.observeAll,k=!w.cb.noArray,r=w.paths;e.type===P?(w.cb.array||w.cb).call(w,e,ad):(w.prop===ad.path||w.prop==="*")&&(i=typeof i===I&&(r[0]||k&&K(i))&&i,d=typeof(d=ad.value)===I&&(r[0]||k&&K(d))&&d,g?(s=g._path+"."+ad.path,l=g.filter,b=[g.parents().slice()],i&&V(k,g.ns,[i],r,w.cb,!0,l,b,s),d&&V(k,g.ns,[d],r,w.cb,R,l,b,s)):(i&&V(k,[i],r,w.cb,!0),d&&V(k,[d],r,w.cb)),w.cb(e,ad))}}function ab(){function e(b,h,a,k){var g,o,v=x(an),n=m(an);if(b=d?b+"."+d:b,at||k){v&&H(n).off(b,W)}else{if(am=v&&H._data(an)){for(am=am&&am.events,am=am&&am[a?P:X],ao=am&&am.length;ao--;){if((aq=am[ao].data)&&aq.cb._cId===ar._cId&&aq.ns===d){if(a){return}(h==="*"&&aq.prop!==h||aq.prop===aj)&&H(an).off(b,W)}}}o=a?{}:{fullPath:az,paths:h?[h]:[],prop:aj};o.ns=d;o.cb=ar;w&&(o.observeAll={_path:w,path:function(){return g=ae.length,w.replace(/[[.]/g,function(aB){return g--,aB==="["?"["+H.inArray(ae[g-1],ae[g]):"."})},parents:function(){return ae},filter:av,ns:d});H(n).on(b,null,o,W);aA&&(aA[H.data(an,"obId")||H.data(an,"obId",aa++)]=an)}}function t(g,b){g._ob=r(g,u);var a=u;return function(h,k){var n=g._ob,v=b.length;typeof n===I&&(f(n,!0),(v||p&&K(n))&&V(p,[n],b,ar,r,!0));n=g._ob=r(g,a);typeof n===I&&(f(n),(v||p&&K(n))&&V(p,[n],b,ar,r,[a]));ar(h,k)}}function f(b,a,h,k){if(p){var g=an,n=w;an=b;k&&(an=b[k],w+="."+k,av&&(an=U._fltr(k,b,w,av)));an&&(h||K(an))&&e(P+".observe"+(ar?".obs"+(ak=ar._cId=ar._cId||E++):""),R,!0,a);an=g;w=n}}var aw,ai,ag,al,aj,az,ad,at,ar,ak,ao,aq,am,r,s,aA,c,ax,ae,w,av,d,y,af,p=this!=!1,l=1,ah=O,ay=Array.apply(0,arguments),ap=ay.pop(),u=ay.shift(),i=u,an=i,au=ay.length;for(u+""===u&&p&&(d=u,u=an=i=ay.shift(),au--),G(ap)?ar=ap:(ap+""===ap&&(w=ap,ae=ay.pop(),av=ay.pop(),ap=ay.pop(),au=au-3),ap===!0?at=ap:ap&&(u=ap,l=0),ap=ay[au-1],(au&&ap===R||G(ap))&&(ar=ay.pop(),au--)),au&&G(ay[au-1])&&(r=ar,ar=ay.pop(),au--),ah+=at?ar?".obs"+ar._cId:"":".obs"+(ak=ar._cId=ar._cId||E++),at||(aA=D[ak]=D[ak]||{}),y=d&&d.match(A)||[""],af=y.length;af--;){for(d=y[af],K(i)?f(i,at,!0):at&&au===0&&i&&e(ah,""),c=0,aw=0;aw<au;aw++){if(az=ay[aw],az!==""){if(an=i,""+az===az){if(al=az.split("^"),al[1]&&(c=al[0].split(".").length,az=al.join("."),c=az.split(".").length-c),r&&(s=r(az,i))){au+=s.length-1;L.apply(ay,[aw--,1].concat(s));continue}al=az.split(".")}else{l&&!G(az)&&(az._jsvOb&&(az._cb=ax=t(az,ay.slice(aw+1)),ax.noArray=p===!1,ax._cId=ar._cId,V(p,[u],ay.slice(0,aw),az._cb,r),az=az._ob),an=az),i=az,al=[i]}while(an&&(aj=al.shift())!==R){if(typeof an===I){if(""+aj===aj){if(aj===""){continue}if(al.length<c+1&&!an.nodeType){if(!at&&(am=x(an)&&H._data(an))){for(am=am.events,am=am&&am[X],ao=am&&am.length,ag=0;ao--;){aq=am[ao].data,aq&&aq.cb===ar&&aq.ns===d&&(aq.prop===aj||aq.prop==="*")&&((ai=al.join("."))&&aq.paths.push(ai),ag++)}if(ag){an=an[aj];continue}}if(aj==="*"){!at&&am&&am.length&&e(ah,"",!1,!0);G(an)?(ad=an.depends)&&V(p,[ad],ar,at||u):e(ah,"");for(ai in an){f(an,at,R,ai)}break}else{aj&&e(ah+"."+aj,al.join("."))}}w&&(w+="."+aj);aj=an[aj]}if(G(aj)){(ad=aj.depends)&&V(p,[an],B(ad,an),ar,r,at||[u]);break}an=aj}}f(an,at)}}}return ak&&C(aA,ak),{cbId:ak,bnd:aA,leaf:an}}function z(){return[].push.call(arguments,!0),ab.apply(this,arguments)}function V(){var a=[].concat.apply([],arguments);return ab.apply(a.shift(),a)}function q(c,b,a){return a.indexOf(".")<0&&a.indexOf("[")<0&&b[c]}function J(g,b,a,c,d){return c=c||q,d=d||q,{getTgt:g,obsSrc:b,obsTgt:a,map:function(e){var k=this,f,l;return k.src!==e&&(k.src&&k.unmap(),typeof e===I&&(l=g.apply(k,arguments),H.observable&&(H.observable(e).observeAll(k.obs=function(i,h){!f&&b&&(f=!0,b.call(k,e,l,i,h),f=!1)},c),H.observable(l).observeAll(k.obt=function(i,h){!f&&a&&(f=!0,a.call(k,e,l,i,h),f=!1)},d)),k.src=e,k.tgt=l)),k},unmap:function(){if(H.observable){var e=this;e.src&&(H.observable(e.src).unobserveAll(e.obs,c),H.observable(e.tgt).unobserveAll(e.obt,d),e.src=e.tgt=R)}}}}function T(d,b,a,c){d+""!==d&&(a=b,b=d,d="");F(d,this._data,b,a,[],"root",c)}function Y(c,b,a){T.call(this,c,b,a,!0)}function F(g,ah,ag,v,f,s,ad){function a(c,b){for(af=c.length,i=s+"[]";af--;){(r=U._fltr(af,c,i,v))&&F(g,r,ag,v||"",f.slice(),i,b)}}function w(c,b){s=c.data.observeAll._path;var d=f;f[0]!==c.target&&(f=f.slice(),f.unshift(c.target));switch(b.change){case"insert":a(b.items);break;case"remove":a(b.items,!0);break;case"refresh":a(b.oldItems,!0);a(c.target);break;case"set":i=s+"."+b.path;F(g,b.oldValue,ag,0,f.slice(),i,!0);F(g,b.value,ag,0,f.slice(),i)}ag.apply(this,arguments);f=d}var af,ae,i,r;if(typeof ah===I){if(ae=K(ah)?"":"*",f.unshift(ah),ag?(ae||v!==0)&&(w._cId=ag._cId=ag._cId||E++,ab(g,ah,ae,w,ad,v,f.slice(),s)):ab(g,ah,ae,R,ad,v,f.slice(),s),ae){for(af in ah){af.charAt(0)!=="_"&&af!==j&&(i=s+"."+af,(r=U._fltr(af,ah,i,v))&&F(g,r,ag,v||0,f.slice(),i,ad))}}else{a(ah,ad)}}}if(!H){throw"jsViews/jsObservable require jQuery"}if(!H.observable){var ac=H.event.special,M=H.views?H.views.sub:U.sub={},L=[].splice,K=H.isArray,j=H.expando,I="object",S=parseInt,A=/\S+/g,X=M.propChng=M.propChng||"propertyChange",P=M.arrChng=M.arrChng||"arrayChange",D=M._cbBnds=M._cbBnds||{},O=X+".observe",G=M.isFn,aa=1,E=1,x=H.hasData;M.getDeps=function(){var a=arguments;return function(){for(var c,b,d=[],e=a.length;e--;){c=a[e--],b=a[e],b&&(d=d.concat(G(b)?b(c,c):b))}return d}};M.DataMap=J;H.observable=U;U._fltr=function(e,b,a,c){var d=c&&G(c)?c(e,b,a):b[e];return d&&(d=G(d)?d.set&&d.call(b):d),typeof d===I&&d};U.Object=Z;U.Array=Q;H.observe=U.observe=ab;H.unobserve=U.unobserve=z;U._apply=V;Z.prototype={_data:null,observeAll:T,unobserveAll:Y,data:function(){return this._data},setProperty:function(l,b,a){var g,d,c,i=this,k=i._data;if(l=l||"",k){if(K(l)){for(g=l.length;g--;){d=l[g],i.setProperty(d.name,d.value,a===R||a)}}else{if(""+l!==l){for(g in l){i.setProperty(g,l[g],b)}}else{if(l!==j){for(c=l.split(".");k&&c.length>1;){k=k[c.shift()]}i._setProperty(k,c.join("."),b,a)}}}}return i},_setProperty:function(k,b,a,c){var g,h,d=b?k[b]:k;G(d)&&d.set&&(h=d,g=d.set===!0?d:d.set,d=d.call(k));(d!==a||c&&d!=a)&&(!(d instanceof Date)||d>a||d<a)&&(g?(g.call(k,a),a=h.call(k)):b&&(k[b]=a),this._trigger(k,{change:"set",path:b,value:a,oldValue:d}))},_trigger:function(b,a){H(b).triggerHandler(X,a)}};Q.prototype={_data:null,observeAll:T,unobserveAll:Y,data:function(){return this._data},insert:function(c,b){var a=this._data;return arguments.length===1&&(b=c,c=a.length),c=S(c),c>-1&&c<=a.length&&(b=K(b)?b:[b],b.length&&this._insert(c,b)),this},_insert:function(d,b){var a=this._data,c=a.length;L.apply(a,[d,0].concat(b));this._trigger({change:"insert",index:d,items:b},c)},remove:function(d,b){var c,a=this._data;return d===R&&(d=a.length-1),d=S(d),b=b?S(b):b===0?0:1,b>-1&&d>-1&&(c=a.slice(d,d+b),b=c.length,b&&this._remove(d,b,c)),this},_remove:function(e,c,b){var d=this._data,a=d.length;d.splice(e,c);this._trigger({change:"remove",index:e,items:b},a)},move:function(d,b,a){if(a=a?S(a):a===0?0:1,d=S(d),b=S(b),a>0&&d>-1&&b>-1&&d!==b){var c=this._data.slice(d,d+a);a=c.length;a&&this._move(d,b,a,c)}return this},_move:function(g,c,b,d){var a=this._data,e=a.length;a.splice(g,b);a.splice.apply(a,[c,0].concat(d));this._trigger({change:"move",oldIndex:g,index:c,items:d},e)},refresh:function(b){var a=this._data.slice();return this._refresh(a,b),this},_refresh:function(d,b){var a=this._data,c=a.length;L.apply(a,[0,a.length].concat(b));this._trigger({change:"refresh",oldItems:d},c)},_trigger:function(e,b){var c=this._data,a=c.length,d=H([c]);d.triggerHandler(P,e);a!==b&&d.triggerHandler(X,{change:"set",path:"length",value:a,oldValue:b})}};ac[X]=ac[P]={remove:function(k){var c,a,d,g,h,b=k.data;if(b&&(b.off=1,b=b.cb)&&(c=D[b._cId])){for(d=H._data(this).events[k.type],g=d.length;g--&&!a;){a=(h=d[g].data)&&h.cb===b}a||(delete c[H.data(this,"obId")],C(c,b._cId))}}}}}(this,this.jQuery),function(ap,af,ax){function ba(b){var a=this.linkedElem;a&&by({target:a[0]},b)}function by(bu,bi){var br,bH,bB,bD,ai,bz,bE,bF,bt,bG,c,bA,bC,at,au,ar,t=bu.target,d=t._jsvBnd,i=/&(\d+)\+?/g;if(d){while(bG=i.exec(d)){if((bG=aF[bG[1]])&&(au=bG.to)){if(bD=bG.linkCtx,bt=bD.view,at=bD.tag,bF=af(t),bA=bt.hlp(B),bC=bt.hlp(aH),bB=aa(t),br=a4[bB],bi===ax&&(bi=bo(bB)?bB(t):br?bF[br]():bF.attr(bB)),bz=au[1],au=au[0],bz&&(ai=bo(bz)?bz:bt.getRsc("converters",bz)),ai&&(bi=ai.call(at,bi)),c=bt.linkCtx,bt.linkCtx=bD,ar={change:"change",oldValue:bD._val,value:bi},(!bA||!(bH=bA.call(bD,bu,ar)===!1))&&(!at||!at.onBeforeChange||!(bH=at.onBeforeChange(bu,ar)===!1))&&bi!==ax&&(bE=au[0],bi!==ax&&bE)){if(bE=bE._jsvOb?bE._ob:bE,at&&(at._.chging=!0),aE(bE).setProperty(au[2]||au[1],bi),bC&&bC.call(bD,bu,ar),at){if(at.onAfterChange){at.onAfterChange(bu,ar)}delete at._.chging}bD._val=bi}bt.linkCtx=c}}}}function bb(h,bA,bz){var at,bB,ai,ar=this,bi=ar.data,br=ar.elem,i=ar.convert,d=br.parentNode,au=d,g=ar.view,r=g.ctx,bt=g.linkCtx,bu=g.hlp(B);if(g.linkCtx=ar,d&&(!bu||!(bA&&bu.call(ar,h,bA)===!1))&&!(bA&&h.data.prop!=="*"&&h.data.prop!==bA.path)){if(bA&&(ar.eventArgs=bA),bA||ar._initVal){if(delete ar._initVal,bB=bz.call(g.tmpl,bi,g,aj),at=I(bB,ar,ai,ar.attr||aa(br,!0,i!==ax)),ai=ar.tag){if(bA&&ai.onUpdate&&ai.onUpdate(h,bA,bB=bB[0]?bB:[bB])===!1||at==="none"){ai.tagCtxs=bB;ai.tagCtx=bB[0];at===ay&&ai.onBeforeLink&&ai.onBeforeLink();S(ai,ai.tagCtx);av(ar,bi,br);g.linkCtx=bt;return}if(ai._.chging){return}bB=ai.tagName.slice(-1)===":"?aj._cnvt(ai.tagName.slice(0,-1),g,bB):aj._tag(ai,g,g.tmpl,bB,!0)}else{bz._ctxs&&(i=i===""?"true":i,bB=i?aj._cnvt(i,g,bB):aj._tag(bz._ctxs,g,g.tmpl,bB,!0),ai=g._.tag,at=ar.attr||at)}aN(bB,ar,at,ai)&&bA&&(bu=g.hlp(aH))&&bu.call(ar,h,bA)}ai&&(ai.contents=ac,ai.nodes=bs,ai.childTags=a6,ai.currentCtxs=D,ai.update=ba,ai.refresh=x,S(ai,ai.tagCtx));av(ar,bi,br);g.linkCtx=bt}}function I(d,a,p,i){var k,g,l,b,t=p&&p.parentElem||a.elem;if(d!==ax){if(b=af(t),i=p&&p.attr||i,bo(d)&&V(a.expr+": missing parens"),i==="visible"&&(i="css-display"),l=/^css-/.test(i)&&i.slice(4)){k=af.style(t,l),+d===d&&(k=parseInt(k)),k=af.style(t,l)}else{if(i!=="link"){if(i==="value"){t.type===q&&(k=b.prop(i=an))}else{if(i===bh){if(t.value===""+d){k=b.prop(an)}else{return i}}}k===ax&&(g=a4[i],k=g?b[g]():b.attr(i))}}a._val=k}return i}function aN(bu,br,au,bC){var h,bt,bF,bA,i,ar,bI,bH,at,ai,bE=bu!==ax,p=br.data,bD=bC&&bC.parentElem||br.elem,bB=af(bD),bi=br.view,bJ=br._val,t=bi.ctx,bG=bi.linkCtx,bz=bC||au===ay;if(bC&&(bC.parentElem=bC.parentElem||br.expr||bC._elCnt?bD:bD.parentNode,bt=bC._prv,bF=bC._nxt),!bE){au===ay&&bC&&bC.onBeforeLink&&bC.onBeforeLink();return}if(/^css-/.test(au)){br.attr==="visible"&&(bu=bu?A(bD):"none"),(bz=bz||bJ!==bu)&&af.style(bD,au.slice(4),bu)}else{if(au!=="link"){if(au===an){ar=1,bu=bu&&bu!=="false"}else{if(au===bh){if(bD.value===""+bu){bu=!0,ar=1,au=an}else{av(br,p,bD);return}}else{(au==="selected"||au==="disabled"||au==="multiple"||au==="readonly")&&(bu=bu&&bu!=="false"?au:null)}}(h=a4[au])?au===ay?(bi.linkCtx=br,bi.ctx=br.ctx,bC&&bC._.inline?(i=bC.nodes(!0),bC._elCnt&&(bt&&bt!==bF?P(bt,bF,bD,bC._tgId,"^",!0):(bI=bD._dfr)&&(bH=bC._tgId+"^",at=bI.indexOf("#"+bH)+1,ai=bI.indexOf("/"+bH),at&&ai>0&&(at+=bH.length,ai>at&&(bD._dfr=bI.slice(0,at)+bI.slice(ai),a5(bI.slice(at,ai))))),bt=bt?bt.previousSibling:bF?bF.previousSibling:bD.lastChild),af(i).remove(),bC&&bC.onBeforeLink&&bC.onBeforeLink(),bA=bi.link(bi.data,bD,bt,bF,bu,bC&&{tag:bC._tgId,lazyLink:bC.tagCtx.props.lazyLink})):(bE&&bB.empty(),bC&&bC.onBeforeLink&&bC.onBeforeLink(),bE&&(bA=bi.link(p,bD,bt,bF,bu,bC&&{tag:bC._tgId}))),bi.linkCtx=bG,bi.ctx=t):(bz=bz||bJ!==bu)&&(au==="text"&&bD.children&&!bD.children[0]?bD.textContent!==ax?bD.textContent=bu:bD.innerText=bu===null?"":bu:bB[h](bu)):(bz=bz||bJ!==bu)&&bB[ar?"prop":"attr"](au,bu===ax&&!ar?null:bu);br._val=bu}}return bA||bz}function T(l,c){var b=this,d=b.hlp(B),a=b.hlp(aH);if(!d||d.call(this,l,c)!==!1){if(c){var k=c.change,g=c.index,h=c.items;switch(k){case"insert":b.addViews(g,h);break;case"remove":b.removeViews(g,h.length);break;case"move":b.refresh();break;case"refresh":b.refresh()}}a&&a.call(this,l,c)}}function A(c){var b,a,e=ap.getComputedStyle,d=(c.currentStyle||e.call(ap,c,"")).display;return d!=="none"||(d=bj[a=c.nodeName])||(b=aC.createElement(a),aC.body.appendChild(b),d=(e?e.call(ap,b,""):b.currentStyle).display,bj[a]=d,aC.body.removeChild(b)),d}function bp(g){var c,d,a=g.data,b=g._.bnd;if(!g._.useKey&&b){if((d=g._.bndArr)&&(af([d[1]]).off(J,d[0]),g._.bndArr=ax),b!==!!b&&b._.inline){a?b._.arrVws[g._.id]=g:delete b._.arrVws[g._.id]}else{if(a){c=function(e){e.data&&e.data.off||T.apply(g,arguments)};af([a]).on(J,c);g._.bndArr=[c,a]}}}}function aa(e,c,b){var a=e.nodeName.toLowerCase(),d=aB.merge[a]||e.contentEditable==="true"&&{to:ay,from:ay};return d?c?a==="input"&&e.type===bh?bh:d.to:d.from:c?b?"text":ay:""}function bm(k,d,bA,ar,at,i,bB){var g,au,bz,bu,br,t=k.parentElem,ai=k._prv,bt=k._nxt,bi=k._elCnt;if(ai&&ai.parentNode!==t&&V("Missing parentNode"),bB){bu=k.nodes();bi&&ai&&ai!==bt&&P(ai,bt,t,k._.id,"_",!0);k.removeViews(ax,ax,!0);au=bt;bi&&(ai=ai?ai.previousSibling:bt?bt.previousSibling:t.lastChild);af(bu).remove();for(br in k._.bnds){bl(br)}}else{if(d){if(bz=ar[d-1],!bz){return !1}ai=bz._nxt}bi?(au=ai,ai=au?au.previousSibling:t.lastChild):au=ai.nextSibling}g=bA.render(at,i,k._.useKey&&bB,k,bB||d,!0);k.link(at,t,ai,au,g,bz)}function z(h,b,c){var a,d,g;return c?(g="^`",d=b._.tag||{_:{inline:!0,bnd:c},tagCtx:{view:b},flow:!0},a=d._tgId,a||(aF[a=j++]=d,d._tgId=""+a)):(g="_`",X[a=b._.id]=b),"#"+a+g+(h===ax?"":h)+"/"+a+g}function av(d,ai,b){var p,g,k,y=d.tag,s=d.convertBack,c=[],i=d._bndId||""+j++,w=d._hdlr;if(delete d._bndId,y&&(c=y.depends||c,c=bo(c)?y.depends(y):c,k=y.linkedElem),(!d._depends||""+d._depends!=""+c)&&(d._depends&&aE._apply(!1,[ai],d._depends,w,!0),p=aE._apply(!1,[ai],d.fn.paths,c,w,d._ctxCb),p.elem=b,p.linkCtx=d,p._tgId=i,b._jsvBnd=b._jsvBnd||"",b._jsvBnd+="&"+i,d._depends=c,d.view._.bnds[i]=i,aF[i]=p,k&&(p.to=[[],s]),(k||s!==ax)&&aK(p,y&&y.convertBack||s),y)){if(y.onAfterBind){y.onAfterBind(p)}y.flow||y._.inline||(b.setAttribute(ah,(b.getAttribute(ah)||"")+"#"+i+"^/"+i+"^"),y._tgId=""+i)}if(k&&k[0]){for(y._.radio&&(k=k.children("input[type=radio]")),g=k.length;g--;){k[g]._jsvBnd=k[g]._jsvBnd||b._jsvBnd+"+",k[g]._jsvLnkdEl=y}}}function a2(k,c,b,d,a,g,h){return be(this,k,c,b,d,a,g,h)}function be(au,ai,w,at,y,br,bz,bA){if(au&&ai){if(ai=ai.jquery?ai:af(ai),!Z){Z=aC.body;af(Z).on(aR,by).on("blur","[contenteditable]",function(c){var a=aB.noValidate;aB.noValidate=!0;by(c);aB.noValidate=a})}for(var bi,bB,b,bt,ar,bu,t,f,i=z,e=at&&at.target==="replace",l=ai.length;l--;){if(t=ai[l],""+au===au){ar=aI(t),f=ar.ctx,ar.ctx=at,a8(au,t,ar,w),ar.ctx=f}else{if(br=br||aI(t),au.markup!==ax){br.link===!1&&(at=at||{},at.link=i=!1),e&&(bu=t.parentNode),b=au.render(w,at,y,br,ax,i),bu?(bz=t.previousSibling,bA=t.nextSibling,af.cleanData([t],!0),bu.removeChild(t),t=bu):(bz=bA=ax,af(t).empty())}else{if(au!==!0){break}}if(t._dfr&&!bA){for(bt=aq(t._dfr,1,ad),bi=0,bB=bt.length;bi<bB;bi++){ar=bt[bi],(ar=X[ar.id])&&ar.data!==ax&&ar.parent.removeViews(ar._.key,ax,!0)}t._dfr=""}br.link(w,t,bz,bA,b,ax,at)}}}return ai}function aG(bZ,bT,bR,b4,bQ,bX,bP,ca){function ai(bi,cn,d,cm,cg,v,cf,ch,br,ck,cj,g,cl){var ci,bt="";return cl?(cc=0,bi):(b7=ch||br||"",cm=cm||ck,d=d||g,au&&!d&&(cm||b7||v)&&(au=ax,bM=f.shift()),cm=cm||d,cm&&(cc=0,au=ax,aB.noValidate||(d||g?az[bM]||(ci="'<"+bM+".../"):az[cm]?ci="'</"+cm:f.length&&cm===bM||(ci="Mismatch: '</"+cm),ci&&aY(ci+">' in:\n"+bQ)),bY=bC,bM=f.shift(),bC=bv[bM],ck=ck?"</"+ck+">":"",bY&&(b+=o,o="",bC?b+="-":(bt=ck+W+"@"+b+aV+(cj||""),b=bE.shift()))),bC?(v?o+=v:cn=ck||g||"",b7&&(cn+=b7,o&&(cn+=" "+ah+'="'+o+'"',o=""))):cn=v?cn+bt+cg+W+v+aV+cf+b7:bt||bi,cc&&v&&aY(" No {^{ tags within elem markup ("+cc+' ). Use data-link="..."'),b7&&(cc=b7,f.unshift(bM),bM=b7.slice(1),f[0]&&f[0]===Y[bM]&&V("Parent of <tr> must be <tbody>"),au=az[bM],(bC=bv[bM])&&!bY&&(bE.unshift(b),b=""),bY=bC,b&&bC&&(b+="+")),cn)}function b8(g,bt){var d,p,br,w,v,bi,cf,r=[];if(g){for(g._tkns.charAt(0)==="@"&&(bt=b3.previousSibling,b3.parentNode.removeChild(b3),b3=null),bS=g.length;bS--;){if(bH=g[bS],br=bH.ch,d=bH.path){for(bW=d.length-1;p=d.charAt(bW--);){p==="+"?d.charAt(bW)==="-"?(bW--,bt=bt.previousSibling):bt=bt.parentNode:bt=bt.lastChild}}br==="^"?(b7=aF[v=bH.id])&&(cf=bt&&(!b3||b3.parentNode!==bt),(!b3||cf)&&(b7.parentElem=bt),bH.elCnt&&cf&&(bt._dfr=(bH.open?"#":"/")+v+br+(bt._dfr||"")),r.push([cf?null:b3,bH])):(bK=X[v=bH.id])&&(bK.link||(bK.parentElem=bt||b3&&b3.parentNode||bT,aw(bK,N),bK._.onRender=z,bK._.onArrayChange=T,bp(bK)),w=bK.parentElem,bH.open?(bK._elCnt=bH.elCnt,bt?bt._dfr="#"+v+br+(bt._dfr||""):(bK._prv||(w._dfr=aM(w._dfr,"#"+v+br)),bK._prv=b3)):(bt&&(!b3||b3.parentNode!==bt)?(bt._dfr="/"+v+br+(bt._dfr||""),bK._nxt=ax):b3&&(bK._nxt||(w._dfr=aM(w._dfr,"/"+v+br)),bK._nxt=b3),bz=bK.linkCtx,(bi=bK.ctx&&bK.ctx.onAfterCreate||b9)&&bi.call(bz,bK)))}for(bS=r.length;bS--;){b0.push(r[bS])}}return !g||g.elCnt}function l(h){var g,d;if(h){for(bS=h.length,bW=0;bW<bS;bW++){if(bH=h[bW],at.id){at.id=at.id!==bH.id&&at.id}else{if(d=b7=aF[bH.id].linkCtx.tag,!b7.flow){if(!bV){for(g=1;d=d.parent;){g++}bN=bN||g}(bV||g===bN)&&(!i||b7.tagName===i)&&ar.push(b7)}}}}}function bI(){for(bG=al?bT.querySelectorAll(aT):af(aT,bT).get(),ce=bG.length,bR&&bR.innerHTML&&(cd=al?bR.querySelectorAll(aT):af(aT,bR).get(),bR=cd.length?cd[cd.length-1]:bR),bN=0,cb=0;cb<ce;cb++){if(b3=bG[cb],bR&&!s){s=b3===bR}else{if(b4&&b3===b4){break}else{b3.parentNode&&t(aq(b3,ax,ar&&a0))&&!at&&b3.getAttribute(aJ)&&b0.push([b3])}}}if(bd(bR,bC),bd(b4,bC),at){b1&&b1.resolve();return}for(bC&&b+o&&(b3=b4,b&&(b4?b8(aq(b+"+",1),b4):b8(aq(b,1),bT)),b8(aq(o,1),bT),b4&&(bF=b4.getAttribute(ah),(ce=bF.indexOf(bJ)+1)&&(bF=bF.slice(ce+bJ.length-1)),b4.setAttribute(ah,o+bF))),ce=b0.length,cb=0;cb<ce;cb++){b3=b0[cb],e=b3[1],b3=b3[0],e?(b7=aF[e.id])&&((bz=b7.linkCtx)&&(b7=bz.tag,b7.linkCtx=bz),e.open?(b3&&(b7.parentElem=b3.parentNode,b7._prv=b3),b7._elCnt=e.elCnt,!b7||b7.onBeforeLink&&b7.onBeforeLink()===!1||b7._.bound||(b7._.bound=!0,bK=b7.tagCtx.view,a8(ax,b7._prv,bK,bZ,e.id)),b7._.linking=!0):(b7._nxt=b3,b7._.linking&&(k=b7.tagCtx,bK=k.view,b7.contents=ac,b7.nodes=bs,b7.childTags=a6,b7.currentCtxs=D,b7.update=ba,b7.refresh=x,delete b7._.linking,b7._.bound||(b7._.bound=!0,a8(ax,b7._prv,bK,bZ,e.id)),S(b7,k)))):(bK=aI(b3),a8(b3.getAttribute(aJ),b3,bK,bZ,ax,bP))}b1&&b1.resolve()}var cc,bz,b7,cb,ce,bW,bS,bG,b3,bK,bH,e,cd,y,c,b5,bO,ar,bV,i,k,bN,at,bL,b2,bU,bA,bM,au,a,bD,bF,bC,bY,bu,o,bJ,s,b1,b6=this,bB=b6._.id+"_",b="",b0=[],f=[],bE=[],b9=b6.hlp(U),t=b8;if(bX&&(b1=bX.lazyLink&&af.Deferred(),bX.tmpl?c="/"+bX._.id+"_":(at=bX.get,bX.tag&&(bB=bX.tag+"^",bX=!0)),bX=bX===!0),at&&(t=l,ar=at.tags,bV=at.deep,i=at.name),bT=bT?""+bT===bT?af(bT)[0]:bT.jquery?bT[0]:bT:b6.parentElem||aC.body,bM=bT.tagName.toLowerCase(),bC=!!bv[bM],bR=bR&&L(bR,bC),b4=b4&&L(b4,bC)||null,bQ!==ax){if(bD=aC.createElement("div"),a=bD,bJ=o="",bu=bT.namespaceURI==="http://www.w3.org/2000/svg"?"svg_ns":(bA=bg.exec(bQ))&&bA[1]||"",K&&bA&&bA[2]&&V("Unsupported: "+bA[2]),bC){for(bO=b4;bO&&!(b5=aq(bO));){bO=bO.nextSibling}(bF=b5?b5._tkns:bT._dfr)&&(y=c||"",(bX||!c)&&(y+="#"+bB),bW=bF.indexOf(y),bW+1&&(bW+=y.length,bJ=o=bF.slice(0,bW),bF=bF.slice(bW),b5?bO.setAttribute(ah,bF):bT._dfr=bF))}if(au=ax,bQ=(""+bQ).replace(aL,ai),!aB.noValidate&&f.length&&aY("Mismatched '<"+bM+"...>' in:\n"+bQ),ca){return}for(am.appendChild(bD),bu=ao[bu]||ao.div,bL=bu[0],a.innerHTML=bu[1]+bQ+bu[2];bL--;){a=a.lastChild}for(am.removeChild(bD),b2=aC.createDocumentFragment();bU=a.firstChild;){b2.appendChild(bU)}bT.insertBefore(b2,b4)}return b1?setTimeout(bI,0):bI(),b1&&b1.promise()}function a8(i,bB,c,ar,au,h){var bz,bA,bt,u,ai,bi,br,g,bu,bC,at;if(ar=c.data===ax?ar||{}:c.data,au){bC=aF[au],bC=bC.linkCtx?bC.linkCtx.tag:bC,bu=bC.linkCtx||{data:ar,elem:bC._elCnt?bC.parentElem:bB,view:c,ctx:c.ctx,attr:ay,fn:bC._.bnd,tag:bC,_bndId:au},O(bu,bu.fn)}else{if(i&&bB){for(bz=c.tmpl,i=m(i,aa(bB)),aA.lastIndex=0;bA=aA.exec(i);){at=aA.lastIndex,bt=au?ay:bA[1],br=bA[3],ai=bA[10],u=ax,bu={data:ar,elem:bC&&bC._elCnt?bC.parentElem:bB,view:c,ctx:h||c.ctx,attr:bt,_initVal:!bA[2]},bA[6]&&(!bt&&(u=/:([\w$]*)$/.exec(ai))&&(u=u[1],u!==ax&&(bi=-u.length-1,br=br.slice(0,bi-1)+aP,ai=ai.slice(0,bi))),u===null&&(u=ax),bu.convert=bA[5]||""),bu.expr=bt+br,g=bz.links[br],g||(bz.links[br]=g=ae.tmplFn(E+br+aQ,bz,!0,u),ae.parse(ai,g.paths=[],bz)),bu.fn=g,bt||u===ax||(bu.convertBack=u),O(bu,g),aA.lastIndex=at}}}}function O(c,b){function a(d,e){bb.call(c,d,e,b)}a.noArray=!0;c._ctxCb=F(c.view);c._hdlr=a;a(!0)}function aM(c,b){var a;return c?(a=c.indexOf(b),a+1?c.slice(0,a)+c.slice(a+b.length):c):""}function aU(a){return a&&(""+a===a?a:a.tagName==="SCRIPT"?a.type.slice(3):a.nodeType===1&&a.getAttribute(ah)||"")}function aq(k,c,b){function h(v,l,f,p,s,u){a.push({elCnt:g,id:p,ch:s,open:l,close:f,path:u,token:v})}var g,d,a=[];if(d=c?k:aU(k)){return a.elCnt=!k.type,g=d.charAt(0)==="@"||!k.type,a._tkns=d,d.replace(b||M,h),a}}function bd(b,a){b&&(b.type==="jsv"?b.parentNode.removeChild(b):a&&b.getAttribute(aJ)===""&&b.removeAttribute(aJ))}function L(c,b){for(var a=c;b&&a&&a.nodeType!==1;){a=a.previousSibling}return a&&(a.nodeType!==1?(a=aC.createElement("SCRIPT"),a.type="jsv",c.parentNode.insertBefore(a,c)):aU(a)||a.getAttribute(aJ)||a.setAttribute(aJ,"")),a}function m(b,a){return b=af.trim(b).replace(bx,"\\$&"),b.slice(-1)!==aP?b=bc+":"+b+(a?":":"")+aP:b}function ac(d,b){d!==!!d&&(b=d,d=ax);var c,a=af(this.nodes());return a[0]&&(c=b?a.filter(b):a,a=d&&b?c.add(a.find(b)):c),a}function bs(l,c,b){var d,a=this,g=a._elCnt,k=!c&&g,h=[];for(c=c||a._prv,b=b||a._nxt,d=k?c===a._nxt?a.parentElem.lastSibling:c:a._.inline===!1?c||a.linkCtx.elem.firstChild:c&&c.nextSibling;d&&(!b||d!==b);){(l||g||d.tagName!=="SCRIPT")&&h.push(d),d=d.nextSibling}return h}function a6(i,b){i!==!!i&&(b=i,i=ax);var c=this,h=c.link?c:c.tagCtx.view,a=c._prv,d=c._elCnt,g=[];return a&&h.link(ax,c.parentElem,d?a.previousSibling:a,c._nxt,ax,{get:{tags:g,deep:i,name:b,id:d&&c._tgId}}),g}function D(){var a=this.tagCtx.view;return this._.bnd.call(a.tmpl,a.data,a,aj)}function S(d,ar){var k,b,at,p,c,w,ai,g,u=ar.view,i=d.linkCtx=d.linkCtx||{tag:d,data:u.data,view:u,ctx:u.ctx};if(d.onAfterLink){d.onAfterLink(ar,i)}if(k=d.targetTag?d.targetTag.linkedElem:d.linkedElem,k&&(b=k[0])&&((at=d._.radio)&&(k=k.children("input[type=radio]")),at||!d._.chging)){if(p=ae.cvt(d,d.convert)[0],at||b!==i.elem){for(ai=k.length;ai--;){if(b=k[ai],g=b._jsvLnkdEl,d._.inline&&(!g||g!==d&&g.targetTag!==d)){for(b._jsvLnkdEl=d,c=i.elem?i.elem._jsvBnd:d._prv._jsvBnd,b._jsvBnd=c+"+",c=c.slice(1).split("&"),w=c.length;w--;){aK(aF[c[w]],d.convertBack)}}at&&(b[an]=p===b.value)}i._val=p}at||b.value===ax||p===ax||(b.type===q?b[an]=p&&p!=="false":k.val(p))}}function aK(c,v){var l,k,w,d,b,a=c.linkCtx,g=a.data,p=a.fn.paths;if(c){for((l=p._jsvto)&&(p=l),k=p.length;k&&""+(d=p[--k])!==d;){}d&&(!a.tag||a.tag.tagCtx.args.length)?(d=d.split("^").join("."),c.to=d.charAt(0)==="."?[[b=p[k-1],d.slice(1)],v]:[a._ctxCb(w=k?p[0].split("^").join("."):d)||[g,w],v],l&&b&&(c.to[0][0]=a._ctxCb(b,g))):c.to=[[],v]}}function x(h){var a,c,b=this,d=b.linkCtx,g=b.tagCtx.view;return b.disposed&&V("Removed tag"),h===ax&&(h=aj._tag(b,g,g.tmpl,b.currentCtxs?b.currentCtxs():b.tagCtxs,!0)),h+""===h&&(c=b._.inline?ay:d.attr||aa(b.parentElem,!0),a=aN(h,d,c,b)),S(b,b.tagCtx),a||b}function Q(k){for(var a,c,b,g=[],h=k.length,d=h;d--;){g.push(k[d])}for(d=h;d--;){if(c=g[d],c.parentNode){if(b=c._jsvBnd){for(b=b.slice(1).split("&"),c._jsvBnd="",a=b.length;a--;){bl(b[a],c._jsvLnkdEl,c)}}a5(aU(c)+(c._dfr||""))}}}function bl(d,k,b){var p,g,t,c,at,ai,ar,w,u=aF[d];if(k){b===k.linkedElem[0]&&(delete b._jsvLnkdEl,delete k.linkedElem)}else{if(u){for(p in u.bnd){c=u.bnd[p],at=".obs"+u.cbId,af.isArray(c)?af([c]).off(J+at).off(a9+at):af(c).off(a9+at),delete u.bnd[p]}if(g=u.linkCtx){if(t=g.tag){if(ai=t.tagCtxs){for(ar=ai.length;ar--;){(w=ai[ar].map)&&w.unmap()}}t.onDispose&&t.onDispose();t._elCnt||(t._prv&&t._prv.parentNode.removeChild(t._prv),t._nxt&&t._nxt.parentNode.removeChild(t._nxt));t.disposed=!0}delete g.view._.bnds[d]}delete aF[d];delete ae._cbBnds[u.cbId]}}}function bf(b,a){return b===ax?(Z&&(af(Z).off(aR,by),Z=ax),b=!0,ab.removeViews(),Q(aC.body.getElementsByTagName("*"))):a&&(a=a.jquery?a:af(a),b===!0&&a.each(function(){for(var c;(c=aI(this,!0))&&c.parent;){c.parent.removeViews(c._.key,ax,!0)}Q(this.getElementsByTagName("*"))})),a}function H(b,a){return bf(this,b,a)}function F(a){return a=a||af.view(),function(d,c){var g,b,h=[c];if(a&&d){if(d._jsvOb){return d._jsvOb.call(a.tmpl,c,a,aj)}if(d.charAt(0)==="~"){return d.slice(0,4)==="~tag"&&(b=a.ctx,d.charAt(4)==="."&&(g=d.slice(5).split("."),b=b.tag),g)?b?[b,g.join("."),c]:[]:(d=d.slice(1).split("."),(c=a.hlp(d.shift()))&&(d.length&&h.unshift(d.join(".")),h.unshift(c)),c?h:[])}if(d.charAt(0)==="#"){return d==="#data"?[]:[a,d.replace(a7,""),c]}}}}function a3(a){return a.type===q?a[an]:a.value}function P(l,bz,y,c,bu,ar){var bt,ai,d,g,au,bi,at,br=0,s=l===bz;if(l){for(d=aq(l)||[],bt=0,ai=d.length;bt<ai;bt++){if(g=d[bt],bi=g.id,bi===c&&g.ch===bu){if(ar){ai=0}else{break}}s||(au=g.ch==="_"?X[bi]:aF[bi].linkCtx.tag,g.open?au._prv=bz:g.close&&(au._nxt=bz));br+=bi.length+2}br&&l.setAttribute(ah,l.getAttribute(ah).slice(br));at=bz?bz.getAttribute(ah):y._dfr;(ai=at.indexOf("/"+c+bu)+1)&&(at=d._tkns.slice(0,br)+at.slice(ai+(ar?-1:c.length+1)));at&&(bz?bz.setAttribute(ah,at):y._dfr=at)}else{y._dfr=aM(y._dfr,"#"+c+bu),ar||bz||(y._dfr=aM(y._dfr,"/"+c+bu))}}function a5(e){var c,d,b,a;if(a=aq(e,1,R)){for(c=0,d=a.length;c<d;c++){b=a[c],b.ch==="_"?(b=X[b.id])&&b.data!==ax&&b.parent.removeViews(b._.key,ax,!0):bl(b.id)}}}function aX(e,b,c,a){switch(a.change){case"set":for(var d=b.length;d--;){if(b[d].key===a.path){break}}d===-1?a.path&&af.observable(b).insert({key:a.path,prop:a.value}):a.value===null?(delete e[a.path],af.observable(b).remove(d)):af.observable(b[d]).setProperty("prop",a.value)}}function aZ(e,b,c,a){var d;switch(a.change){case"set":a.path==="prop"?af.observable(e).setProperty(c.target.key,a.value):(af.observable(e).setProperty(a.oldValue,null),delete e[a.oldValue],af.observable(e).setProperty(a.value,c.target.prop));break;case"remove":d=a.items[0];af.observable(e).setProperty(d.key,null);delete e[d.key];break;case"insert":d=a.items[0];d.key&&af.observable(e).setProperty(d.key,d.prop)}}function bw(c,b,a){return a.indexOf(".")<0&&b[c]}var a1="JsViews requires ",N,Z,aI,aA,E,bc,aP,aQ,C,K,aJ,aT,ao,aC=ap.document,aj=af.views,ae=aj.sub,aB=aj.settings,aw=ae.extend,ab=ae.View(ax,"top"),bo=ae.isFn,aO=aj.templates,aS=aj.converters,aE=af.observable,ak=aE.observe,ah="data-jsv",a9=ae.propChng=ae.propChng||"propertyChange",J=ae.arrChng=ae.arrChng||"arrayChange",aD=ae._cbBnds=ae._cbBnds||{},aR="change.jsv",B="onBeforeChange",aH="onAfterChange",U="onAfterCreate",an="checked",q="checkbox",bh="radio",aV='"><\/script>',W='<script type="jsv',G="script,["+ah+"]",ay="html",a4={value:"val",input:"val",html:ay,text:"text"},bq={from:"value",to:"value"},aW=0,bn=af.cleanData,ag=aB.delimiters,V=ae.err,aY=ae.syntaxErr,bg=/<(?!script)(\w+)(?:[^>]*(on\w+)\s*=)?[^>]*>/,bx=/['"\\]/g,am=aC.createDocumentFragment(),al=aC.querySelector,bv={ol:1,ul:1,table:1,tbody:1,thead:1,tfoot:1,tr:1,colgroup:1,dl:1,select:1,optgroup:1,svg:1,svg_ns:1},Y={tr:"table"},az={br:1,img:1,input:1,hr:1,area:1,base:1,col:1,link:1,meta:1,command:1,embed:1,keygen:1,param:1,source:1,track:1,wbr:1},bj={},X={0:ab},aF={},j=1,a7=/^#(view\.?)?/,aL=/(^|(\/>)|<\/(\w+)>|)(\s*)([#\/]\d+[_^])`(\s*)(<\w+(?=[\s\/>]))?|\s*(?:(<\w+(?=[\s\/>]))|<\/(\w+)>(\s*)|(\/>)\s*|(>))/g,ad=/(#)()(\d+)(_)/g,R=/(#)()(\d+)([_^])/g,bk=/(?:(#)|(\/))(\d+)(_)/g,a0=/(#)()(\d+)(\^)/g,M=/(?:(#)|(\/))(\d+)([_^])([-+@\d]+)?/g;if(!af){throw a1+"jQuery"}if(!af.views){throw a1+"JsRender"}if(!af.observable){throw a1+"jquery.observable"}af.link||(ae.onStoreItem=function(c,a,b){b&&c===aO&&(b.link=a2,b.unlink=H,a&&(af.link[a]=function(){return a2.apply(b,arguments)},af.unlink[a]=function(){return H.apply(b,arguments)}))},(aB.delimiters=function(){var a=ag.apply(aj,arguments);return E=a[0],bc=a[1],aP=a[2],aQ=a[3],C=a[4],aA=new RegExp("(?:^|\\s*)([\\w-]*)(\\"+C+")?(\\"+bc+ae.rTag+"\\"+aP+")","g"),this})(),ae.viewInfos=aq,N={addViews:function(l,c,b){var a,k,d=this,g=c.length,h=d.views;if(!d._.useKey&&g&&(b=d.tmpl)&&(k=h.length+g,bm(d,l,b,h,c,d.ctx)!==!1)){for(a=l+g;a<k;a++){aE(h[a]).setProperty("index",a)}}return d},removeViews:function(d,a,v){function b(y){var br,ar,au,at,u,ai,f=k[y];if(f&&f.link){if(br=f._.id,v||(ai=f.nodes()),f.removeViews(ax,ax,!0),f.data=ax,at=f._prv,u=f._nxt,au=f.parentElem,v||(f._elCnt&&P(at,u,au,br,"_"),af(ai).remove()),!f._elCnt){try{at.parentNode.removeChild(at);u.parentNode.removeChild(u)}catch(bi){}}bp(f);for(ar in f._.bnds){bl(ar)}delete X[br]}}var p,g,w,i=this,t=!i._.useKey,k=i.views;if(t&&(w=k.length),d===ax){if(t){for(p=w;p--;){b(p)}i.views=[]}else{for(g in k){b(g)}i.views={}}}else{if(a===ax&&(t?a=1:(b(d),delete k[d])),t&&a){for(p=d+a;p-->d;){b(p)}if(k.splice(d,a),w=k.length){while(d<w){aE(k[d]).setProperty("index",d++)}}}}return this},refresh:function(c){var b=this,a=b.parent;return a&&(bm(b,b.index,b.tmpl,a.views,b.data,c,!0),bp(b)),b},nodes:bs,contents:ac,childTags:a6,link:aG},aS.merge=function(d){var b,a=this.linkCtx._val||"",c=this.tagCtx.props.toggle;return c&&(b=c.replace(/[\\^$.|?*+()[{]/g,"\\$&"),b="(\\s(?="+b+"$)|(\\s)|^)("+b+"(\\s|$))",a=a.replace(new RegExp(b),"$2"),d=a+(d?(a&&" ")+c:"")),d},aj.tags("on",{attr:"none",onAfterLink:function(d,a){var b=this,t=af(a.elem),i=d.args,p=d.props.data,k=i.pop(),g=i[1]||null,l=d.props.context;if(p=p!==ax?p:null,k&&k.call){t.on(i[0]||"click",g,p,function(c){k.call(l||b.leaf,c,{change:c.type,view:a.view,linkCtx:a})})}},onAfterBind:function(a){this.leaf=a.leaf},flow:!0}),aw(aj.tags["for"],{onArrayChange:function(e,c){var b,d=this,a=c.change;if(d.tagCtxs[1]&&(a==="insert"&&e.target.length===c.items.length||a==="remove"&&!e.target.length||a==="refresh"&&!c.oldItems.length!=!e.target.length)){d.refresh()}else{for(b in d._.arrVws){b=d._.arrVws[b],b.data===e.target&&b._.onArrayChange.apply(b,arguments)}}e.done=!0},onAfterLink:function(){for(var v,b,g,l,p=this,a=p._ars||{},w=p.tagCtxs,t=w.length,k=p.selected||0,d=0;d<=k;d++){v=w[d],l=v.map?v.map.tgt:v.args.length?v.args[0]:v.view.data,(g=a[d])&&l!==g[0]&&(ak(g[0],g[1],!0),delete a[d]),!a[d]&&af.isArray(l)&&(ak(l,b=function(e,c){p.onArrayChange(e,c)}),a[d]=[l,b])}for(d=k+1;d<t;d++){(g=a[d])&&(ak(g[0],g[1],!0),delete a[d])}p._ars=a},onDispose:function(){var b,a=this;for(b in a._ars){ak(a._ars[b][0],a._ars[b][1],!0)}}}),aj.tags({props:af.extend({},aj.tags["for"],ae.DataMap(aj.tags.props.getTgt,aX,aZ,ax,bw))}),aw(af,{view:aj.view=aI=function(i,d,au){d!==!!d&&(au=d,d=ax);var v,g,t,y,at,bi,ai,ar,e=0,l=aC.body;if(i&&i!==l&&ab._.useKey>1&&(i=""+i===i?af(i)[0]:i.jquery?i[0]:i,i)){if(d){for(ar=al?i.querySelectorAll(G):af(G,i).get(),bi=ar.length,t=0;t<bi;t++){for(ai=ar[t],g=aq(ai,ax,ad),y=0,at=g.length;y<at;y++){if(v=g[y],(v=X[v.id])&&(v=v&&au?v.get(!0,au):v,v)){return v}}}}else{while(i){if(g=aq(i,ax,bk)){for(bi=g.length;bi--;){if(v=g[bi],v.open){if(e<1){return v=X[v.id],v&&au?v.get(au):v||ab}e--}else{e++}}}i=i.previousSibling||i.parentNode}}}return d?ax:ab},link:aj.link=be,unlink:aj.unlink=bf,cleanData:function(a){a.length&&aW&&Q(a);bn.apply(af,arguments)}}),aj.utility={validate:function(b){try{ab.link(ax,aC.createElement("div"),ax,ax,b,ax,ax,1)}catch(a){return a.message}}},aw(af.fn,{link:function(k,c,b,d,a,g,h){return be(k,this,c,b,d,a,g,h)},unlink:function(a){return bf(a,this)},view:function(a){return aI(this[0],a)}}),af.each([ay,"replaceWith","empty","remove"],function(d,b){var c,a=af.fn[b];af.fn[b]=function(){aW=1;try{c=a.apply(this,arguments)}finally{aW=0}return c}}),aw(ab,{tmpl:{links:{},tags:{}}}),aw(ab,N),ab._.onRender=z,aB({wrapMap:ao={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],svg_ns:[1,"<svg>","</svg>"],div:jQuery.support.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},linkAttr:aJ="data-link",merge:{input:{from:a3,to:"value"},textarea:bq,select:bq,optgroup:{to:"label"}},jsrDbgMode:aB.debugMode,debugMode:function(a){aB.jsrDbgMode(a);a?ap._jsv={views:X,bindings:aF}:delete ap._jsv},jsv:function(){aB.debugMode(aB._dbgMode);aJ=aB.linkAttr;aT=G+",["+aJ+"]";K=aB.noDomLevel0;ao.optgroup=ao.option;ao.tbody=ao.tfoot=ao.colgroup=ao.caption=ao.thead;ao.th=ao.td}}))}(this,this.jQuery);